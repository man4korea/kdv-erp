<!DOCTYPE html>
<html lang="ko">
<!-- üìÅ pages/hr/employee-list.html
     KDV ERP ÏãúÏä§ÌÖú - ÏßÅÏõê Î™©Î°ù ÌéòÏù¥ÏßÄ
     Create at 250524_2100 Ver1.00 -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏßÅÏõê Î™©Î°ù - KDV ERP ÏãúÏä§ÌÖú</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <!-- Font Awesome ÏïÑÏù¥ÏΩò -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ÏßÅÏõê Î™©Î°ù ÌéòÏù¥ÏßÄ Ï†ÑÏö© Ïä§ÌÉÄÏùº */
        .employee-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-4);
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-6);
            flex-wrap: wrap;
            gap: var(--spacing-4);
        }
        
        .page-title {
            margin-bottom: 0;
        }
        
        .page-title h1 {
            font-size: var(--text-3xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }
        
        .page-subtitle {
            color: var(--text-secondary);
            font-size: var(--text-base);
        }
        
        .header-actions {
            display: flex;
            gap: var(--spacing-2);
        }
        
        /* Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ ÏòÅÏó≠ */
        .search-filter-section {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--spacing-6);
            border: 1px solid var(--border-primary);
        }
        
        .search-row {
            display: grid;
            grid-template-columns: 1fr auto auto auto;
            gap: var(--spacing-4);
            align-items: end;
            margin-bottom: var(--spacing-4);
        }
        
        .search-input-group {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: var(--spacing-3);
            padding-left: 40px;
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            transition: border-color var(--transition-speed);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }
        
        .filter-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-4);
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-1);
        }
        
        .filter-label {
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--text-secondary);
        }
        
        .filter-select {
            padding: var(--spacing-2) var(--spacing-3);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            background: var(--bg-primary);
        }
        
        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        /* ÌÜµÍ≥Ñ Ïπ¥Îìú */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-6);
        }
        
        .stat-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-primary);
            text-align: center;
        }
        
        .stat-number {
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--primary);
            margin-bottom: var(--spacing-1);
        }
        
        .stat-label {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }
        
        /* ÌÖåÏù¥Î∏î ÏÑπÏÖò */
        .table-section {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-primary);
            overflow: hidden;
        }
        
        .table-header {
            padding: var(--spacing-4) var(--spacing-6);
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .table-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }
        
        .table-actions {
            display: flex;
            gap: var(--spacing-2);
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        .employee-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .employee-table th,
        .employee-table td {
            padding: var(--spacing-3) var(--spacing-4);
            text-align: left;
            border-bottom: 1px solid var(--border-primary);
        }
        
        .employee-table th {
            background: var(--bg-secondary);
            font-weight: 500;
            color: var(--text-secondary);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }
        
        .employee-table th:hover {
            background: #e5e7eb;
        }
        
        .employee-table th .sort-icon {
            margin-left: var(--spacing-1);
            color: var(--text-muted);
        }
        
        .employee-table th.sort-active .sort-icon {
            color: var(--primary);
        }
        
        .employee-table tbody tr {
            transition: background-color var(--transition-speed);
        }
        
        .employee-table tbody tr:hover {
            background: var(--bg-secondary);
        }
        
        .employee-name {
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .employee-email {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }
        
        .employee-mobile {
            font-family: monospace;
            font-size: var(--text-sm);
        }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px var(--spacing-2);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 500;
        }
        
        .status-badge.active {
            background: var(--bg-success);
            color: var(--success);
        }
        
        .status-badge.leave {
            background: var(--bg-warning);
            color: var(--warning);
        }
        
        .status-badge.retired {
            background: var(--bg-danger);
            color: var(--danger);
        }
        
        .employee-actions {
            display: flex;
            gap: var(--spacing-1);
        }
        
        .action-btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-speed);
            font-size: var(--text-sm);
        }
        
        .action-btn.view {
            background: var(--bg-info);
            color: var(--info);
        }
        
        .action-btn.edit {
            background: var(--bg-warning);
            color: var(--warning);
        }
        
        .action-btn.delete {
            background: var(--bg-danger);
            color: var(--danger);
        }
        
        .action-btn:hover {
            transform: scale(1.1);
        }
        
        /* ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò */
        .pagination-section {
            padding: var(--spacing-4) var(--spacing-6);
            background: var(--bg-secondary);
            display: flex;
            justify-content: between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-4);
        }
        
        .pagination-info {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }
        
        .pagination-controls {
            display: flex;
            gap: var(--spacing-2);
            align-items: center;
        }
        
        .pagination-btn {
            padding: var(--spacing-2) var(--spacing-3);
            border: 1px solid var(--border-primary);
            background: var(--bg-primary);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: var(--text-sm);
            transition: all var(--transition-speed);
        }
        
        .pagination-btn:hover:not(:disabled) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .page-size-selector {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--text-sm);
        }
        
        /* Îπà ÏÉÅÌÉú */
        .empty-state {
            text-align: center;
            padding: var(--spacing-8);
            color: var(--text-muted);
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: var(--spacing-4);
        }
        
        .empty-state h3 {
            margin-bottom: var(--spacing-2);
            color: var(--text-secondary);
        }
        
        /* Î°úÎî© Ïä§ÏºàÎ†àÌÜ§ */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .skeleton-row {
            height: 60px;
        }
        
        .skeleton-text {
            height: 16px;
            border-radius: 4px;
            margin: 8px 0;
        }
        
        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 1024px) {
            .search-row {
                grid-template-columns: 1fr;
            }
            
            .header-actions {
                width: 100%;
                justify-content: flex-start;
            }
        }
        
        @media (max-width: 768px) {
            .employee-container {
                padding: var(--spacing-2);
            }
            
            .page-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .employee-table th,
            .employee-table td {
                padding: var(--spacing-2);
                font-size: var(--text-sm);
            }
            
            .employee-actions {
                flex-direction: column;
            }
            
            .pagination-section {
                flex-direction: column;
                text-align: center;
            }
        }
        
        @media (max-width: 640px) {
            .stats-section {
                grid-template-columns: 1fr;
            }
            
            .table-container {
                font-size: var(--text-xs);
            }
        }
    </style>
</head>
<body>
    <!-- Î°úÎî© Ïò§Î≤ÑÎ†àÏù¥ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <div style="margin-top: 20px; font-size: 14px; color: #666;" id="loadingMessage">
            ÏßÅÏõê Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...
        </div>
    </div>
    
    <!-- ÏÇ¨Ïù¥ÎìúÎ∞î Ïò§Î≤ÑÎ†àÏù¥ -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h1 class="logo text-primary">CorpEasy</h1>
            <button class="btn btn-icon" id="sidebarCloseBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <!-- ÎåÄÏãúÎ≥¥Îìú -->
                <li>
                    <a href="../../index.html" class="menu-item">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>ÎåÄÏãúÎ≥¥Îìú</span>
                    </a>
                </li>
                
                <!-- Ïù∏ÏÇ¨Í¥ÄÎ¶¨ (ÌôúÏÑ±Ìôî) -->
                <li class="has-submenu open">
                    <a href="#" class="menu-item">
                        <i class="fas fa-users"></i>
                        <span>Ïù∏ÏÇ¨Í¥ÄÎ¶¨</span>
                        <i class="fas fa-chevron-right submenu-arrow"></i>
                    </a>
                    <ul class="submenu show">
                        <li class="active"><a href="employee-list.html">ÏßÅÏõê Î™©Î°ù</a></li>
                        <li><a href="employee-add.html">ÏßÅÏõê Îì±Î°ù</a></li>
                        <li><a href="#" onclick="showComingSoon()">Ï°∞ÏßÅÎèÑ</a></li>
                        <li><a href="#" onclick="showComingSoon()">Í∑ºÌÉúÍ¥ÄÎ¶¨</a></li>
                    </ul>
                </li>
                
                <!-- Î¨∏ÏÑúÍ¥ÄÎ¶¨ (ÎπÑÌôúÏÑ±Ìôî) -->
                <li>
                    <a href="#" class="menu-item" onclick="showComingSoon()">
                        <i class="fas fa-file-alt"></i>
                        <span>Î¨∏ÏÑúÍ¥ÄÎ¶¨</span>
                        <span class="menu-badge">Ï§ÄÎπÑÏ§ë</span>
                    </a>
                </li>
                
                <!-- ÏñëÏãùÍ¥ÄÎ¶¨ (ÎπÑÌôúÏÑ±Ìôî) -->
                <li>
                    <a href="#" class="menu-item" onclick="showComingSoon()">
                        <i class="fas fa-wpforms"></i>
                        <span>ÏñëÏãùÍ¥ÄÎ¶¨</span>
                        <span class="menu-badge">Ï§ÄÎπÑÏ§ë</span>
                    </a>
                </li>
                
                <!-- ÏÇ¨Í∑úÍ¥ÄÎ¶¨ (ÎπÑÌôúÏÑ±Ìôî) -->
                <li>
                    <a href="#" class="menu-item" onclick="showComingSoon()">
                        <i class="fas fa-gavel"></i>
                        <span>ÏÇ¨Í∑úÍ¥ÄÎ¶¨</span>
                        <span class="menu-badge">Ï§ÄÎπÑÏ§ë</span>
                    </a>
                </li>
                
                <!-- Íµ¨Î∂ÑÏÑ† -->
                <li style="margin: var(--spacing-4) 0;">
                    <hr style="border: none; height: 1px; background: var(--border-primary);">
                </li>
                
                <!-- ÏÑ§Ï†ï -->
                <li>
                    <a href="#" class="menu-item" onclick="showComingSoon()">
                        <i class="fas fa-cog"></i>
                        <span>ÏãúÏä§ÌÖú ÏÑ§Ï†ï</span>
                    </a>
                </li>
                
                <!-- Î°úÍ∑∏ÏïÑÏõÉ -->
                <li>
                    <a href="#" class="menu-item" onclick="handleLogout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Î°úÍ∑∏ÏïÑÏõÉ</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    
    <!-- Î©îÏù∏ Ìó§Îçî -->
    <header class="main-header">
        <div class="header-left">
            <button class="hamburger-btn" id="hamburgerBtn">
                <div class="hamburger-icon">
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                </div>
            </button>
        </div>
        
        <div class="header-center">
            <a href="../../index.html" class="logo">CorpEasy</a>
        </div>
        
        <div class="header-right">
            <!-- Í≤ÄÏÉâ -->
            <div class="header-icon" title="Í≤ÄÏÉâ">
                <i class="fas fa-search"></i>
            </div>
            
            <!-- ÏïåÎ¶º -->
            <div class="header-icon" title="ÏïåÎ¶º" onclick="showNotifications()">
                <i class="fas fa-bell"></i>
                <div class="notification-badge"></div>
            </div>
            
            <!-- ÏÇ¨Ïö©Ïûê ÌîÑÎ°úÌïÑ -->
            <div class="user-profile" id="userProfile" onclick="showUserMenu()">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-name" id="userName">ÏÇ¨Ïö©Ïûê</div>
                <i class="fas fa-chevron-down" style="font-size: 12px; color: var(--text-secondary);"></i>
            </div>
        </div>
    </header>
    
    <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
    <main class="main-content" id="mainContent">
        <div class="employee-container">
            <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
            <div class="page-header">
                <div class="page-title">
                    <h1>ÏßÅÏõê Î™©Î°ù</h1>
                    <p class="page-subtitle">Îì±Î°ùÎêú Î™®Îì† ÏßÅÏõê Ï†ïÎ≥¥Î•º Ï°∞ÌöåÌïòÍ≥† Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="refreshEmployeeList()">
                        <i class="fas fa-sync"></i> ÏÉàÎ°úÍ≥†Ïπ®
                    </button>
                    <button class="btn btn-primary" onclick="goToEmployeeAdd()">
                        <i class="fas fa-user-plus"></i> ÏßÅÏõê Îì±Î°ù
                    </button>
                    <button class="btn btn-info" onclick="exportEmployeeList()">
                        <i class="fas fa-download"></i> ÎÇ¥Î≥¥ÎÇ¥Í∏∞
                    </button>
                </div>
            </div>
            
            <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ ÏÑπÏÖò -->
            <div class="search-filter-section">
                <div class="search-row">
                    <div class="search-input-group">
                        <input type="text" 
                               class="search-input" 
                               id="searchInput" 
                               placeholder="Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, Ìú¥ÎåÄÌè∞ Î≤àÌò∏Î°ú Í≤ÄÏÉâ..."
                               autocomplete="off">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                    <button class="btn btn-primary" onclick="searchEmployees()">
                        <i class="fas fa-search"></i> Í≤ÄÏÉâ
                    </button>
                    <button class="btn btn-secondary" onclick="clearSearch()">
                        <i class="fas fa-times"></i> Ï¥àÍ∏∞Ìôî
                    </button>
                    <button class="btn btn-info" onclick="toggleAdvancedFilter()">
                        <i class="fas fa-filter"></i> Í≥†Í∏â ÌïÑÌÑ∞
                    </button>
                </div>
                
                <div class="filter-row" id="advancedFilter" style="display: none;">
                    <div class="filter-group">
                        <label class="filter-label">Î∂ÄÏÑú</label>
                        <select class="filter-select" id="departmentFilter">
                            <option value="">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Ïû¨ÏßÅ ÏÉÅÌÉú</label>
                        <select class="filter-select" id="statusFilter">
                            <option value="">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>
                            <option value="Ïû¨ÏßÅ">Ïû¨ÏßÅ</option>
                            <option value="Ìú¥ÏßÅ">Ìú¥ÏßÅ</option>
                            <option value="Ìá¥ÏßÅ">Ìá¥ÏßÅ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">ÏßÅÍ∏â</label>
                        <select class="filter-select" id="positionFilter">
                            <option value="">Ï†ÑÏ≤¥ ÏßÅÍ∏â</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Ï†ïÎ†¨ Í∏∞Ï§Ä</label>
                        <select class="filter-select" id="sortFilter">
                            <option value="name">Ïù¥Î¶Ñ Ïàú</option>
                            <option value="department">Î∂ÄÏÑú Ïàú</option>
                            <option value="position">ÏßÅÍ∏â Ïàú</option>
                            <option value="joinDate">ÏûÖÏÇ¨Ïùº Ïàú</option>
                            <option value="createdAt">Îì±Î°ùÏùº Ïàú</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- ÌÜµÍ≥Ñ ÏÑπÏÖò -->
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-number" id="totalEmployees">-</div>
                    <div class="stat-label">Ï†ÑÏ≤¥ ÏßÅÏõê</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeEmployees">-</div>
                    <div class="stat-label">Ïû¨ÏßÅ ÏßÅÏõê</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalDepartments">-</div>
                    <div class="stat-label">Î∂ÄÏÑú Ïàò</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="recentJoins">-</div>
                    <div class="stat-label">Ïù¥Î≤à Îã¨ ÏûÖÏÇ¨</div>
                </div>
            </div>
            
            <!-- ÌÖåÏù¥Î∏î ÏÑπÏÖò -->
            <div class="table-section">
                <div class="table-header">
                    <h3 class="table-title">ÏßÅÏõê Î™©Î°ù</h3>
                    <div class="table-actions">
                        <select class="filter-select" id="pageSize" onchange="changePageSize()">
                            <option value="10">10Í∞úÏî© Î≥¥Í∏∞</option>
                            <option value="25" selected>25Í∞úÏî© Î≥¥Í∏∞</option>
                            <option value="50">50Í∞úÏî© Î≥¥Í∏∞</option>
                            <option value="100">100Í∞úÏî© Î≥¥Í∏∞</option>
                        </select>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="employee-table" id="employeeTable">
                        <thead>
                            <tr>
                                <th onclick="sortTable('name')">
                                    Ïù¥Î¶Ñ
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th onclick="sortTable('department')">
                                    Î∂ÄÏÑú
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th onclick="sortTable('position')">
                                    ÏßÅÍ∏â
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th onclick="sortTable('status')">
                                    ÏÉÅÌÉú
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th>Ïó∞ÎùΩÏ≤ò</th>
                                <th onclick="sortTable('joinDate')">
                                    ÏûÖÏÇ¨Ïùº
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th>Í¥ÄÎ¶¨</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <!-- Î°úÎî© Ïä§ÏºàÎ†àÌÜ§ -->
                            <tr class="skeleton-row">
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                                <td><div class="skeleton skeleton-text"></div></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <!-- Îπà ÏÉÅÌÉú -->
                    <div class="empty-state" id="emptyState" style="display: none;">
                        <i class="fas fa-users"></i>
                        <h3>ÏßÅÏõêÏù¥ ÏóÜÏäµÎãàÎã§</h3>
                        <p>Ï°∞Í±¥Ïóê ÎßûÎäî ÏßÅÏõêÏù¥ ÏóÜÍ±∞ÎÇò ÏïÑÏßÅ Îì±Î°ùÎêú ÏßÅÏõêÏù¥ ÏóÜÏäµÎãàÎã§.</p>
                        <button class="btn btn-primary" onclick="goToEmployeeAdd()">
                            <i class="fas fa-user-plus"></i> Ï≤´ ÏßÅÏõê Îì±Î°ùÌïòÍ∏∞
                        </button>
                    </div>
                </div>
                
                <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
                <div class="pagination-section">
                    <div class="pagination-info" id="paginationInfo">
                        1-25 / Ï¥ù 0Î™Ö
                    </div>
                    <div class="pagination-controls" id="paginationControls">
                        <button class="pagination-btn" id="prevBtn" onclick="goToPrevPage()" disabled>
                            <i class="fas fa-chevron-left"></i> Ïù¥Ï†Ñ
                        </button>
                        <span id="pageNumbers"></span>
                        <button class="pagination-btn" id="nextBtn" onclick="goToNextPage()" disabled>
                            Îã§Ïùå <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Firebase Î∞è ÏßÅÏõê Í¥ÄÎ¶¨ Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script type="module">
        // Firebase Î∞è Ïù∏Ï¶ù Î™®Îìà import
        import { LoginManager, checkPageAccess } from '../../js/auth.js';
        import { app, db, auth } from '../../js/firebase-config.js';
        
        // Î©îÏù∏ UI Ïª®Ìä∏Î°§ import
        import '../../js/main.js';
        
        // ÏßÅÏõê Í¥ÄÎ¶¨ Î™®Îìà import
        import { EmployeeManager } from '../../js/employee.js';
        
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let loginManager;
        let employeeManager;
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üë• ÏßÅÏõê Î™©Î°ù ÌéòÏù¥ÏßÄ Î°úÎìú');
            
            // Î°úÎî© ÌëúÏãú
            showLoading('ÏßÅÏõê Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...');
            
            try {
                // Î°úÍ∑∏Ïù∏ Îß§ÎãàÏ†Ä Ï¥àÍ∏∞Ìôî
                loginManager = new LoginManager();
                window.loginManager = loginManager;
                
                // ÌéòÏù¥ÏßÄ Ï†ëÍ∑º Í∂åÌïú ÌôïÏù∏
                const hasAccess = checkPageAccess(loginManager, 'ÏùºÎ∞ò', '../../login.html');
                
                if (hasAccess) {
                    // ÏßÅÏõê Îß§ÎãàÏ†Ä Ï¥àÍ∏∞Ìôî
                    employeeManager = new EmployeeManager();
                    window.employeeManager = employeeManager;
                    
                    // ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌëúÏãú
                    await updateUserInfo();
                    
                    // ÏßÅÏõê Î™©Î°ù Ï¥àÍ∏∞Ìôî
                    await employeeManager.initialize();
                    
                    console.log('‚úÖ ÏßÅÏõê Î™©Î°ù ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
                }
                
            } catch (error) {
                console.error('‚ùå ÏßÅÏõê Î™©Î°ù ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî Ïã§Ìå®:', error);
                showError('ÏßÅÏõê Î™©Î°ùÏùÑ Î°úÎìúÌïòÎäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ' + error.message);
            } finally {
                hideLoading();
            }
        });
        
        /**
         * ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏
         */
        async function updateUserInfo() {
            const currentUser = loginManager.getCurrentUser();
            
            if (currentUser.isLoggedIn && currentUser.user) {
                const userAvatar = document.getElementById('userAvatar');
                const userName = document.getElementById('userName');
                
                // ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ Ï≤´ Í∏ÄÏûêÎ°ú ÏïÑÎ∞îÌÉÄ ÏÑ§Ï†ï
                const email = currentUser.user.email;
                const firstChar = email.charAt(0).toUpperCase();
                userAvatar.textContent = firstChar;
                
                // ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ ÌëúÏãú (Ïù¥Î©îÏùºÏùò @ ÏïûÎ∂ÄÎ∂Ñ)
                const displayName = email.split('@')[0];
                userName.textContent = displayName;
                
                console.log('üë§ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏:', displayName);
            }
        }
        
        /**
         * Î°úÎî© ÏÉÅÌÉú ÌëúÏãú/Ïà®ÍπÄ
         */
        function showLoading(message = 'Ï≤òÎ¶¨ Ï§ë...') {
            const loadingOverlay = document.getElementById('loadingOverlay');
            const loadingMessage = document.getElementById('loadingMessage');
            if (loadingMessage) loadingMessage.textContent = message;
            loadingOverlay.classList.add('show');
        }
        
        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('show');
        }
        
        /**
         * ÏóêÎü¨ ÌëúÏãú
         */
        function showError(message) {
            // Í∞ÑÎã®Ìïú ÏóêÎü¨ ÏïåÎ¶º (Ï∂îÌõÑ toast ÏãúÏä§ÌÖúÏúºÎ°ú ÍµêÏ≤¥)
            alert('Ïò§Î•ò: ' + message);
        }
        
        // Ï†ÑÏó≠ Ìï®ÏàòÎì§
        window.showNotifications = function() {
            alert('ÏïåÎ¶º Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.');
        }
        
        window.showUserMenu = function() {
            const currentUser = loginManager.getCurrentUser();
            const userInfo = `ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥:\\nÏù¥Î©îÏùº: ${currentUser.user?.email || 'ÏóÜÏùå'}\\nÎ°úÍ∑∏Ïù∏ ÏãúÍ∞Ñ: ${currentUser.user?.metadata?.lastSignInTime || 'ÏóÜÏùå'}`;
            alert(`${userInfo}\\n\\n- ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï\\n- Í≥ÑÏ†ï Í¥ÄÎ¶¨\\n- Î°úÍ∑∏ÏïÑÏõÉ`);
        }
        
        window.showComingSoon = function() {
            alert('Ìï¥Îãπ Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.\\nÏù∏ÏÇ¨Í¥ÄÎ¶¨ Î©îÎâ¥Îßå ÌòÑÏû¨ Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.');
        }
        
        window.handleLogout = async function() {
            if (confirm('Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                showLoading('Î°úÍ∑∏ÏïÑÏõÉ Ï§ë...');
                
                try {
                    const result = await loginManager.logout();
                    
                    if (result.success) {
                        console.log('‚úÖ Î°úÍ∑∏ÏïÑÏõÉ ÏÑ±Í≥µ');
                        window.location.href = '../../login.html';
                    } else {
                        throw new Error(result.error);
                    }
                } catch (error) {
                    console.error('‚ùå Î°úÍ∑∏ÏïÑÏõÉ Ïã§Ìå®:', error);
                    alert('Î°úÍ∑∏ÏïÑÏõÉ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');
                } finally {
                    hideLoading();
                }
            }
        }
        
        // ÏßÅÏõê Î™©Î°ù Í¥ÄÎ†® Ï†ÑÏó≠ Ìï®ÏàòÎì§ (employee.jsÏóêÏÑú Ìò∏Ï∂ú)
        window.refreshEmployeeList = function() {
            if (employeeManager) {
                employeeManager.loadEmployees();
            }
        }
        
        window.searchEmployees = function() {
            if (employeeManager) {
                employeeManager.performSearch();
            }
        }
        
        window.clearSearch = function() {
            if (employeeManager) {
                employeeManager.clearSearch();
            }
        }
        
        window.toggleAdvancedFilter = function() {
            const filterEl = document.getElementById('advancedFilter');
            const isVisible = filterEl.style.display !== 'none';
            filterEl.style.display = isVisible ? 'none' : 'block';
        }
        
        window.sortTable = function(field) {
            if (employeeManager) {
                employeeManager.sortTable(field);
            }
        }
        
        window.changePageSize = function() {
            if (employeeManager) {
                employeeManager.changePageSize();
            }
        }
        
        window.goToPrevPage = function() {
            if (employeeManager) {
                employeeManager.goToPrevPage();
            }
        }
        
        window.goToNextPage = function() {
            if (employeeManager) {
                employeeManager.goToNextPage();
            }
        }
        
        window.goToPage = function(page) {
            if (employeeManager) {
                employeeManager.goToPage(page);
            }
        }
        
        window.goToEmployeeAdd = function() {
            window.location.href = 'employee-add.html';
        }
        
        window.viewEmployee = function(employeeId) {
            if (employeeManager) {
                employeeManager.viewEmployee(employeeId);
            }
        }
        
        window.editEmployee = function(employeeId) {
            window.location.href = `employee-edit.html?id=${employeeId}`;
        }
        
        window.deleteEmployee = function(employeeId) {
            if (employeeManager) {
                employeeManager.deleteEmployee(employeeId);
            }
        }
        
        window.exportEmployeeList = function() {
            if (employeeManager) {
                employeeManager.exportToCSV();
            }
        }
        
        // Ï†ÑÏó≠ Í∞ùÏ≤¥Î°ú Îì±Î°ù (ÎîîÎ≤ÑÍπÖÏö©)
        window.employeePage = {
            loginManager,
            employeeManager,
            showLoading,
            hideLoading,
            showError
        };
    </script>
</body>
</html>